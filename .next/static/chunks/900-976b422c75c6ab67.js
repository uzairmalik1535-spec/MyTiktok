(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(5155);s(2115);var r=s(9708),l=s(2085),n=s(9434);let i=(0,l.F)("cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:l,asChild:c=!1,...o}=e,d=c?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(i({variant:s,size:l,className:t})),...o})}},1394:(e,t,s)=>{"use strict";s.d(t,{BK:()=>i,eu:()=>n,q5:()=>c});var a=s(5155);s(2115);var r=s(4011),l=s(9434);function n(e){let{className:t,...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)(r._V,{"data-slot":"avatar-image",className:(0,l.cn)("aspect-square size-full",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},4052:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.bind(s,7297))},4477:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let a=s(3806),r=s(1818),l=s(7197)},5690:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},7297:(e,t,s)=>{"use strict";s.d(t,{default:()=>q});var a=s(5155),r=s(2115),l=s(5695),n=s(5493),i=s(285),c=s(5690),o=s(1976),d=s(9946);let u=(0,d.A)("thumbs-down",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);var m=s(6874),x=s.n(m),h=s(4416);let f=(0,d.A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),p=(0,d.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function v(e){let{isOpen:t,onClose:s}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Login Required"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(h.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to like, dislike, or comment on videos."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(x(),{href:"/auth/signin",className:"block",children:(0,a.jsxs)(i.$,{className:"w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(f,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Sign In"})]})}),(0,a.jsx)(x(),{href:"/auth/signup",className:"block",children:(0,a.jsxs)(i.$,{variant:"outline",className:"w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Create Account"})]})})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("button",{onClick:s,className:"text-sm text-gray-500 hover:text-gray-700",children:"Continue without logging in"})})]})}):null}var g=s(4477);let b=(0,g.createServerReference)("40ecd33a79051583227c3904fe97b61cb52a8871f4",g.callServer,void 0,g.findSourceMapURL,"likeVideoAction"),y=(0,g.createServerReference)("40e9647a9fb144631fd84cd1708aaea5331d497c0c",g.callServer,void 0,g.findSourceMapURL,"dislikeVideoAction");var j=s(6671),N=s(9434),k=s(8382);function w(e){let{className:t,...s}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,N.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}var S=s(1394);let C=(0,d.A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);var R=s(2525);let A=(0,d.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),M=(0,g.createServerReference)("40cb36b86f0802cc7a9bda0bc82cfeea558886fc0b",g.callServer,void 0,g.findSourceMapURL,"getCommentsAction"),L=(0,g.createServerReference)("6083aa16e58cc0c13ab7ba32ef8e7a7b99ca09222c",g.callServer,void 0,g.findSourceMapURL,"createCommentAction"),P=(0,g.createServerReference)("400613e5989e51ecbd15066064a21be0adfd464d87",g.callServer,void 0,g.findSourceMapURL,"deleteCommentAction");function z(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,N.cn)("bg-accent animate-pulse rounded-md",t),...s})}function E(e){var t,s,l;let{videoId:c}=e,{data:o}=(0,n.wV)(),[d,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)([]),[h,f]=(0,r.useState)(!1),[p,v]=(0,r.useState)(""),[g,b]=(0,r.useState)(!1),[y,E]=(0,r.useState)(null),U=async()=>{f(!0);try{let e=await M(c);e.success?x(e.comments||[]):j.oR.error(e.message)}catch(e){console.error("Fetch comments error:",e),j.oR.error("Failed to fetch comments")}finally{f(!1)}};(0,r.useEffect)(()=>{d&&U()},[d,c]);let V=async()=>{if(!o)return void j.oR.error("Please login to comment");if(!p.trim())return void j.oR.error("Please enter a comment");b(!0);try{let e=await L(c,p);e.success?(v(""),j.oR.success("Comment posted successfully"),U()):j.oR.error(e.message)}catch(e){console.error("Submit comment error:",e),j.oR.error("Failed to post comment")}finally{b(!1)}},q=async e=>{E(e);try{let t=await P(e);t.success?(j.oR.success("Comment deleted successfully"),x(t=>t.filter(t=>t.id!==e))):j.oR.error(t.message)}catch(e){console.error("Delete comment error:",e),j.oR.error("Failed to delete comment")}finally{E(null)}};return(0,a.jsxs)(k.cj,{open:d,onOpenChange:u,children:[(0,a.jsx)(k.CG,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"p-1.5 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70",children:(0,a.jsx)(C,{className:"h-5 w-5"})})}),(0,a.jsxs)(k.h,{className:"w-[400px] sm:w-[540px]",children:[(0,a.jsx)(k.Fm,{className:"px-6",children:(0,a.jsx)(k.qp,{children:"Comments"})}),(0,a.jsxs)("div",{className:"flex flex-col h-full px-6 pb-6",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 mt-4",children:h?Array.from({length:3}).map((e,t)=>(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(z,{className:"h-8 w-8 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(z,{className:"h-4 w-20"}),(0,a.jsx)(z,{className:"h-3 w-16"})]}),(0,a.jsx)(z,{className:"h-4 w-full"}),(0,a.jsx)(z,{className:"h-3 w-3/4"})]})]},t)):0===m.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No comments yet"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Be the first to comment!"})]}):m.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(S.eu,{className:"h-8 w-8",children:[(0,a.jsx)(S.BK,{src:e.user.image||void 0}),(0,a.jsx)(S.q5,{children:e.user.name.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.user.name}),(0,a.jsx)("span",{className:"text-gray-500 text-xs",children:(0,N.ak)(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.content}),(null==o||null==(t=o.user)?void 0:t.id)===e.userId&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>q(e.id),disabled:y===e.id,className:"h-6 px-2 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",children:y===e.id?"Deleting...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-1"}),"Delete"]})})]})]},e.id)})}),o?(0,a.jsx)("div",{className:"border-t pt-4 mt-4 -mx-6 px-6",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(S.eu,{className:"h-8 w-8",children:[(0,a.jsx)(S.BK,{src:(null==(t=o.user)?void 0:t.image)||void 0}),(0,a.jsx)(S.q5,{children:null==(l=o.user)||null==(s=l.name)?void 0:s.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(w,{placeholder:"Add a comment...",value:p,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),V())},className:"min-h-[80px] resize-none",disabled:g}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(i.$,{onClick:V,disabled:g||!p.trim(),size:"sm",className:"flex items-center space-x-2",children:g?"Posting...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Post"})]})})})]})]})}):(0,a.jsx)("div",{className:"border-t pt-4 mt-4 -mx-6 px-6 text-center",children:(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Please login to add a comment"})})]})]})]})}function U(e){let{video:t,onVideoEnd:s,currentIndex:l,totalVideos:d,isActive:m=!0,isScrolling:x=!1}=e,{data:h}=(0,n.wV)(),f=(0,r.useRef)(null),[p,g]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1),[S,C]=(0,r.useState)("like"===t.userLike),[R,A]=(0,r.useState)("dislike"===t.userLike),[M,L]=(0,r.useState)(t.likeCount||0),[P,z]=(0,r.useState)(t.dislikeCount||0),[U,V]=(0,r.useState)(!1),[q,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m&&f.current&&!x?(f.current.play().catch(()=>{console.log("Auto-play blocked by browser")}),g(!0)):!m&&f.current&&(f.current.pause(),g(!1))},[m,x]);let _=async()=>{if(!h)return void w(!0);if(!U){V(!0);try{let e=await b(t.id);e.success?"added"===e.action||"changed"===e.action?(C(!0),A(!1),L(e=>e+1),R&&z(e=>e-1)):"removed"===e.action&&(C(!1),L(e=>e-1)):(console.error("Like error:",e.message),j.oR.error(e.message))}catch(e){console.error("Like video error:",e),j.oR.error("Something went wrong")}finally{V(!1)}}},D=async()=>{if(!h)return void w(!0);if(!q){F(!0);try{let e=await y(t.id);e.success?"added"===e.action||"changed"===e.action?(A(!0),C(!1),z(e=>e+1),S&&L(e=>e-1)):"removed"===e.action&&(A(!1),z(e=>e-1)):(console.error("Dislike error:",e.message),j.oR.error(e.message))}catch(e){console.error("Dislike video error:",e),j.oR.error("Something went wrong")}finally{F(!1)}}};return(0,a.jsxs)("div",{className:"h-full relative rounded-lg overflow-hidden shadow-lg",children:[(0,a.jsxs)("div",{className:"relative aspect-[9/16] w-full h-full",children:[(0,a.jsx)("video",{ref:f,className:"w-full h-full object-cover",src:t.url,poster:t.thumbnail||void 0,onEnded:()=>{g(!1),s()},onPlay:()=>g(!0),onPause:()=>g(!1),loop:!0}),(0,a.jsx)("button",{onClick:()=>{f.current&&(p?f.current.pause():f.current.play(),g(!p))},className:"absolute inset-0 flex items-center justify-center bg-opacity-30 hover:bg-opacity-50 transition-opacity",children:!p&&(0,a.jsx)("div",{className:"bg-white bg-opacity-80 rounded-full p-3",children:(0,a.jsx)(c.A,{className:"h-8 w-8 text-black",fill:"black"})})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/70 to-transparent p-3 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-gray-700",children:t.user.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white text-sm font-medium",children:t.user.name}),(0,a.jsx)("p",{className:"text-gray-300 text-xs",children:(0,N.ak)(t.createdAt)})]})]}),(0,a.jsx)("h3",{className:"text-white text-sm font-semibold mb-1",children:t.title}),t.description&&(0,a.jsx)("p",{className:"text-gray-300 text-xs line-clamp-1",children:t.description})]}),(0,a.jsxs)("div",{className:"absolute right-3 bottom-20 flex flex-col space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:_,disabled:U,className:"p-1.5 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 ".concat(S?"text-red-500":""," ").concat(U?"opacity-50":""),children:(0,a.jsx)(o.A,{className:"h-5 w-5 ".concat(S?"fill-current":"")})}),(0,a.jsx)("span",{className:"text-xs text-white bg-black bg-opacity-50 px-1.5 py-0.5 rounded-full",children:M||0})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:D,disabled:q,className:"p-1.5 rounded-full bg-black bg-opacity-50 text-white hover:bg-opacity-70 ".concat(R?"text-blue-500":""," ").concat(q?"opacity-50":""),children:(0,a.jsx)(u,{className:"h-5 w-5 ".concat(R?"fill-current":"")})}),(0,a.jsx)("span",{className:"text-xs text-white bg-black bg-opacity-50 px-1.5 py-0.5 rounded-full",children:P||0})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,a.jsx)(E,{videoId:t.id,videoTitle:t.title}),(0,a.jsx)("span",{className:"text-xs text-white bg-black bg-opacity-50 px-1.5 py-0.5 rounded-full",children:t.commentCount||0})]})]}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs",children:[l," / ",d]})]}),(0,a.jsx)(v,{isOpen:k,onClose:()=>w(!1)})]})}let V=(0,g.createServerReference)("6074ea16526a04d83e6a86296d63beb1956ac03cb5",g.callServer,void 0,g.findSourceMapURL,"getVideos");function q(e){let{videos:t,nextCursor:s,hasNextPage:n}=e,[i,c]=(0,r.useState)(t),[o,d]=(0,r.useState)(s||null),[u,m]=(0,r.useState)(n||!1),[x,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(0),[v,g]=(0,r.useState)(!1),b=(0,r.useRef)(null),y=(0,r.useRef)([]),N=(0,l.useRouter)(),k=(0,l.useSearchParams)();(0,r.useEffect)(()=>{y.current=y.current.slice(0,i.length)},[i.length]);let w=(0,r.useCallback)(async()=>{if(u&&!x&&o){h(!0);try{let e=await V(20,o);if(e.success&&e.videos.length>0){c(t=>[...t,...e.videos]),d(e.nextCursor),m(e.hasNextPage||!1);let t=new URLSearchParams(k);e.nextCursor?t.set("cursor",e.nextCursor.toISOString()):t.delete("cursor"),N.replace("/?".concat(t.toString()),{scroll:!1})}}catch(e){j.oR.error("Failed to load more videos"),console.error("Load more videos error:",e)}finally{h(!1)}}},[u,x,o,N,k]),S=(0,r.useCallback)(()=>{f>=i.length-3&&u&&!x&&w()},[f,i.length,u,x,w]),C=(0,r.useCallback)(e=>{if(y.current[e]&&b.current){var t;null==(t=y.current[e])||t.scrollIntoView({behavior:"smooth",block:"start"}),p(e)}},[]),R=(0,r.useCallback)(()=>{f<i.length-1&&C(f+1)},[f,i.length,C]),A=(0,r.useCallback)(()=>{f>0&&C(f-1)},[f,C]),M=(0,r.useCallback)(()=>{f<i.length-1&&C(f+1),S()},[f,i.length,C,S]);return((0,r.useEffect)(()=>{if(!b.current)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&p(parseInt(e.target.getAttribute("data-video-index")||"0"))})},{root:b.current,rootMargin:"-10% 0px -10% 0px",threshold:.5});return y.current.forEach(t=>{t&&e.observe(t)}),()=>e.disconnect()},[i.length]),(0,r.useEffect)(()=>{let e,t=b.current;if(!t)return;let s=()=>{g(!0),clearTimeout(e),e=setTimeout(()=>{g(!1);let e=t.getBoundingClientRect(),s=e.top+e.height/2,a=0,r=1/0;y.current.forEach((e,t)=>{if(e){let l=e.getBoundingClientRect(),n=Math.abs(s-(l.top+l.height/2));n<r&&(r=n,a=t)}}),p(a),S()},150)};return t.addEventListener("scroll",s),()=>{t.removeEventListener("scroll",s),clearTimeout(e)}},[S]),0===i.length)?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No videos available"})}):(0,a.jsxs)("div",{ref:b,className:"h-full overflow-y-auto snap-y snap-mandatory scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[i.map((e,t)=>(0,a.jsx)("div",{ref:e=>{y.current[t]=e},"data-video-index":t,className:"h-full snap-start snap-always flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-full w-full max-w-sm mx-auto px-4",children:(0,a.jsx)(U,{video:e,onVideoEnd:R,onPrevious:A,onNext:M,canGoPrevious:t>0,canGoNext:t<i.length-1,currentIndex:t+1,totalVideos:i.length,isActive:f===t,isScrolling:v})})},e.id)),x&&(0,a.jsx)("div",{className:"h-full snap-start snap-always flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Loading more videos..."})]})})]})}},8382:(e,t,s)=>{"use strict";s.d(t,{CG:()=>c,Fm:()=>m,cj:()=>i,h:()=>u,qp:()=>x});var a=s(5155);s(2115);var r=s(5452),l=s(4416),n=s(9434);function i(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"sheet",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"sheet-trigger",...t})}function o(e){let{...t}=e;return(0,a.jsx)(r.ZL,{"data-slot":"sheet-portal",...t})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(r.hJ,{"data-slot":"sheet-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,side:i="right",...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.UC,{"data-slot":"sheet-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===i&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===i&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===i&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===i&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...c,children:[s,(0,a.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(l.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,n.cn)("flex flex-col gap-1.5 p-4",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(r.hE,{"data-slot":"sheet-title",className:(0,n.cn)("text-foreground font-semibold",t),...s})}},9434:(e,t,s)=>{"use strict";s.d(t,{Yq:()=>c,ak:()=>i,cn:()=>n}),s(9980);var a=s(2596),r=s(9688),l=s(757);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}let i=e=>(0,l.m)(e,{addSuffix:!0}),c=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},9825:()=>{}}]);