(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97],{237:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.bind(s,7130))},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(5155);s(2115);var i=s(9708),a=s(2085),d=s(9434);let n=(0,a.F)("cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:a,asChild:c=!1,...l}=e,o=c?i.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,d.cn)(n({variant:s,size:a,className:t})),...l})}},7130:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(5155),i=s(285),a=s(5690),d=s(9074),n=s(2525),c=s(4477);let l=(0,c.createServerReference)("403933edbd1ab1ab8fafeea375c96f2e85d9aa0d12",c.callServer,void 0,c.findSourceMapURL,"deleteVideo");var o=s(6671),x=s(2115),h=s(6766),u=s(9434);function m(e){let{videos:t}=e,[s,i]=(0,x.useState)(t);return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Video"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Uploaded"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,r.jsx)(v,{video:e,setVideos:i},e.id))})]})})})}function v(e){let{video:t,setVideos:s}=e,[c,m]=(0,x.useState)(!1),v=async e=>{if(confirm("Are you sure you want to delete this video? This action cannot be undone."))try{m(!0);let t=await l(e);t.success?(s(t=>t.filter(t=>t.id!==e)),o.oR.success("Video deleted successfully")):o.oR.error(t.message||"Failed to delete video")}catch(e){console.error("Delete video error:",e),o.oR.error("Failed to delete video")}finally{m(!1)}};return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"flex-shrink-0 h-16 w-16",children:t.thumbnail?(0,r.jsx)(h.default,{className:"h-16 w-16 rounded-lg object-cover",src:t.thumbnail,alt:t.title,width:64,height:64}):(0,r.jsx)("div",{className:"h-16 w-16 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,r.jsx)(a.A,{className:"h-6 w-6 text-gray-400"})})})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.title})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:t.description||"No description"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),(0,u.Yq)(t.createdAt)]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(a.A,{className:"h-4 w-4 mr-1"}),"View"]})}),(0,r.jsx)(i.$,{variant:"destructive",size:"sm",onClick:()=>v(t.id),disabled:c,children:c?(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mr-1"}),"Delete"]})})]})})]})}},9434:(e,t,s)=>{"use strict";s.d(t,{Yq:()=>c,ak:()=>n,cn:()=>d}),s(9980);var r=s(2596),i=s(9688),a=s(757);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,r.$)(t))}let n=e=>(0,a.m)(e,{addSuffix:!0}),c=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},9825:()=>{}},e=>{e.O(0,[960,874,671,142,441,964,358],()=>e(e.s=237)),_N_E=e.O()}]);